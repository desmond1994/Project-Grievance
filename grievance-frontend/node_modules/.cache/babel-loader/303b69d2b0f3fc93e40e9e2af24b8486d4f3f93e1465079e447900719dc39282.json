{"ast":null,"code":"var _jsxFileName = \"D:\\\\coding\\\\grievance-frontend\\\\src\\\\components\\\\AdminGrievanceEditor.js\",\n  _s = $RefreshSig$();\n// In src/components/AdminGrievanceEditor.js\n\nimport React, { useState } from 'react';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminGrievanceEditor({\n  grievance,\n  departments,\n  onUpdate,\n  onCancel\n}) {\n  _s();\n  const [status, setStatus] = useState(grievance.status);\n  const [departmentId, setDepartmentId] = useState(grievance.department);\n\n  // These are the same choices from your Django model\n  const statusChoices = ['Pending', 'In Progress', 'Resolved', 'Closed', 'Reopened'];\n  const handleSubmit = event => {\n    event.preventDefault();\n    const payload = {\n      status: status,\n      department: departmentId\n    };\n    api.patch(`grievances/${grievance.id}/`, payload).then(() => {\n      onUpdate(); // Tell the parent page to refresh its data\n    }).catch(err => {\n      console.error(\"Failed to update grievance:\", err);\n      alert(\"Update failed!\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      backgroundColor: '#333',\n      padding: '15px',\n      borderRadius: '8px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Editing: \", grievance.title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"status\",\n        children: \"Status: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"status\",\n        value: status,\n        onChange: e => setStatus(e.target.value),\n        children: statusChoices.map(choice => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: choice,\n          children: choice\n        }, choice, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"department\",\n        children: \"Department: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"department\",\n        value: departmentId || '',\n        onChange: e => setDepartmentId(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Assign Department --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), departments.map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: dept.id,\n          children: dept.name\n        }, dept.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Save Changes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: onCancel,\n      style: {\n        marginLeft: '10px',\n        backgroundColor: '#555'\n      },\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminGrievanceEditor, \"BtrB9FrYq7GeVaz82gHVilsNSmg=\");\n_c = AdminGrievanceEditor;\nexport default AdminGrievanceEditor;\nvar _c;\n$RefreshReg$(_c, \"AdminGrievanceEditor\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","AdminGrievanceEditor","grievance","departments","onUpdate","onCancel","_s","status","setStatus","departmentId","setDepartmentId","department","statusChoices","handleSubmit","event","preventDefault","payload","patch","id","then","catch","err","console","error","alert","onSubmit","style","backgroundColor","padding","borderRadius","children","title","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","htmlFor","value","onChange","e","target","map","choice","dept","name","type","onClick","marginLeft","_c","$RefreshReg$"],"sources":["D:/coding/grievance-frontend/src/components/AdminGrievanceEditor.js"],"sourcesContent":["// In src/components/AdminGrievanceEditor.js\r\n\r\nimport React, { useState } from 'react';\r\nimport api from '../api';\r\n\r\nfunction AdminGrievanceEditor({ grievance, departments, onUpdate, onCancel }) {\r\n  const [status, setStatus] = useState(grievance.status);\r\n  const [departmentId, setDepartmentId] = useState(grievance.department);\r\n\r\n  // These are the same choices from your Django model\r\n  const statusChoices = ['Pending', 'In Progress', 'Resolved', 'Closed', 'Reopened'];\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const payload = {\r\n      status: status,\r\n      department: departmentId,\r\n    };\r\n\r\n    api.patch(`grievances/${grievance.id}/`, payload)\r\n      .then(() => {\r\n        onUpdate(); // Tell the parent page to refresh its data\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Failed to update grievance:\", err);\r\n        alert(\"Update failed!\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ backgroundColor: '#333', padding: '15px', borderRadius: '8px' }}>\r\n      <h4>Editing: {grievance.title}</h4>\r\n      \r\n      <div style={{ marginBottom: '10px' }}>\r\n        <label htmlFor=\"status\">Status: </label>\r\n        <select id=\"status\" value={status} onChange={e => setStatus(e.target.value)}>\r\n          {statusChoices.map(choice => (\r\n            <option key={choice} value={choice}>{choice}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ marginBottom: '15px' }}>\r\n        <label htmlFor=\"department\">Department: </label>\r\n        <select id=\"department\" value={departmentId || ''} onChange={e => setDepartmentId(e.target.value)}>\r\n          <option value=\"\">-- Assign Department --</option>\r\n          {departments.map(dept => (\r\n            <option key={dept.id} value={dept.id}>{dept.name}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      \r\n      <button type=\"submit\">Save Changes</button>\r\n      <button type=\"button\" onClick={onCancel} style={{ marginLeft: '10px', backgroundColor: '#555' }}>\r\n        Cancel\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default AdminGrievanceEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}