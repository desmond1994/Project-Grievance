{"ast":null,"code":"var _jsxFileName = \"D:\\\\coding\\\\grievance-frontend\\\\src\\\\components\\\\ImageViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ImageViewer({\n  image,\n  width = 400,\n  height = 300\n}) {\n  _s();\n  const [zoom, setZoom] = useState(1.0);\n  const [pos, setPos] = useState({\n    x: 0,\n    y: 0\n  });\n  const [dragging, setDragging] = useState(false);\n  const [start, setStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const containerRef = useRef();\n\n  // Native wheel event with passive: false\n  useEffect(() => {\n    const handleWheel = e => {\n      e.preventDefault(); // This only works on native events with passive: false\n      const delta = e.deltaY > 0 ? -0.1 : 0.1;\n      setZoom(z => Math.max(0.5, Math.min(z + delta, 5)));\n    };\n    const node = containerRef.current;\n    if (node) {\n      node.addEventListener('wheel', handleWheel, {\n        passive: false\n      });\n    }\n    return () => {\n      if (node) {\n        node.removeEventListener('wheel', handleWheel, {\n          passive: false\n        });\n      }\n    };\n  }, []);\n  const handleMouseDown = e => {\n    setDragging(true);\n    setStart({\n      x: e.clientX - pos.x,\n      y: e.clientY - pos.y\n    });\n  };\n  const handleMouseMove = e => {\n    if (dragging) {\n      setPos({\n        x: e.clientX - start.x,\n        y: e.clientY - start.y\n      });\n    }\n  };\n  const handleMouseUp = () => setDragging(false);\n  const handleReset = () => {\n    setZoom(1.0);\n    setPos({\n      x: 0,\n      y: 0\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    className: \"photo-viewer-container\",\n    style: {\n      width,\n      height,\n      overflow: 'hidden',\n      position: 'relative',\n      background: '#f7f7f7',\n      borderRadius: '6px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      cursor: dragging ? 'grabbing' : 'grab'\n    },\n    onMouseDown: handleMouseDown,\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onMouseLeave: handleMouseUp,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"zoom-controls-overlay\",\n      style: {\n        position: 'absolute',\n        top: '10px',\n        right: '16px',\n        background: 'rgba(255,255,255,0.7)',\n        borderRadius: '4px',\n        padding: '2px 6px',\n        display: 'flex',\n        gap: '6px',\n        zIndex: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setZoom(z => Math.max(0.5, z - 0.25)),\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleReset,\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setZoom(z => Math.min(5, z + 0.25)),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      alt: \"\",\n      style: {\n        pointerEvents: 'none',\n        userSelect: 'none',\n        width: `${width}px`,\n        height: `${height}px`,\n        objectFit: 'contain',\n        transform: `scale(${zoom}) translate(${pos.x / zoom}px, ${pos.y / zoom}px)`,\n        transition: dragging ? 'none' : 'transform 0.2s'\n      },\n      draggable: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(ImageViewer, \"PY+MJ1qdLWfvEUQLEx7b8vWmQco=\");\n_c = ImageViewer;\nvar _c;\n$RefreshReg$(_c, \"ImageViewer\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","ImageViewer","image","width","height","_s","zoom","setZoom","pos","setPos","x","y","dragging","setDragging","start","setStart","containerRef","handleWheel","e","preventDefault","delta","deltaY","z","Math","max","min","node","current","addEventListener","passive","removeEventListener","handleMouseDown","clientX","clientY","handleMouseMove","handleMouseUp","handleReset","ref","className","style","overflow","position","background","borderRadius","display","alignItems","justifyContent","cursor","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","children","top","right","padding","gap","zIndex","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","pointerEvents","userSelect","objectFit","transform","transition","draggable","_c","$RefreshReg$"],"sources":["D:/coding/grievance-frontend/src/components/ImageViewer.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\nexport default function ImageViewer({ image, width = 400, height = 300 }) {\r\n  const [zoom, setZoom] = useState(1.0);\r\n  const [pos, setPos] = useState({ x: 0, y: 0 });\r\n  const [dragging, setDragging] = useState(false);\r\n  const [start, setStart] = useState({ x: 0, y: 0 });\r\n  const containerRef = useRef();\r\n\r\n  // Native wheel event with passive: false\r\n  useEffect(() => {\r\n    const handleWheel = (e) => {\r\n      e.preventDefault(); // This only works on native events with passive: false\r\n      const delta = e.deltaY > 0 ? -0.1 : 0.1;\r\n      setZoom(z => Math.max(0.5, Math.min(z + delta, 5)));\r\n    };\r\n    const node = containerRef.current;\r\n    if (node) {\r\n      node.addEventListener('wheel', handleWheel, { passive: false });\r\n    }\r\n    return () => {\r\n      if (node) {\r\n        node.removeEventListener('wheel', handleWheel, { passive: false });\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleMouseDown = (e) => {\r\n    setDragging(true);\r\n    setStart({ x: e.clientX - pos.x, y: e.clientY - pos.y });\r\n  };\r\n  const handleMouseMove = (e) => {\r\n    if (dragging) {\r\n      setPos({ x: e.clientX - start.x, y: e.clientY - start.y });\r\n    }\r\n  };\r\n  const handleMouseUp = () => setDragging(false);\r\n\r\n  const handleReset = () => {\r\n    setZoom(1.0);\r\n    setPos({ x: 0, y: 0 });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className=\"photo-viewer-container\"\r\n      style={{\r\n        width,\r\n        height,\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n        background: '#f7f7f7',\r\n        borderRadius: '6px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor: dragging ? 'grabbing' : 'grab'\r\n      }}\r\n      onMouseDown={handleMouseDown}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseUp={handleMouseUp}\r\n      onMouseLeave={handleMouseUp}\r\n    >\r\n      <div className=\"zoom-controls-overlay\" style={{\r\n        position: 'absolute',\r\n        top: '10px',\r\n        right: '16px',\r\n        background: 'rgba(255,255,255,0.7)',\r\n        borderRadius: '4px',\r\n        padding: '2px 6px',\r\n        display: 'flex',\r\n        gap: '6px',\r\n        zIndex: 2,\r\n      }}>\r\n        <button type=\"button\" onClick={() => setZoom(z => Math.max(0.5, z - 0.25))}>-</button>\r\n        <button type=\"button\" onClick={handleReset}>Reset</button>\r\n        <button type=\"button\" onClick={() => setZoom(z => Math.min(5, z + 0.25))}>+</button>\r\n      </div>\r\n      <img\r\n        src={image}\r\n        alt=\"\"\r\n        style={{\r\n          pointerEvents: 'none',\r\n          userSelect: 'none',\r\n          width: `${width}px`,\r\n          height: `${height}px`,\r\n          objectFit: 'contain',\r\n          transform: `scale(${zoom}) translate(${pos.x / zoom}px, ${pos.y / zoom}px)`,\r\n          transition: dragging ? 'none' : 'transform 0.2s'\r\n        }}\r\n        draggable={false}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}